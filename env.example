# ========================================
# GMBS CRM - Environment Configuration
# ========================================
# Complete environment setup for Google Sheets integration
# Copy this file to .env.local and fill in your values

# ========================================
# SUPABASE CONFIGURATION
# ========================================
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=YOUR_ANON_KEY_HERE
SUPABASE_SERVICE_ROLE_KEY=YOUR_SERVICE_ROLE_KEY_HERE

# ========================================
# GOOGLE SHEETS CONFIGURATION
# ========================================
# Method 1: Using credentials.json file (recommended)
GOOGLE_CREDENTIALS_PATH=./supabase/functions/credentials.json
GOOGLE_SHEETS_ID=YOUR_SPREADSHEET_ID_HERE

# Method 2: Using environment variables directly (alternative)
# GOOGLE_SHEETS_CLIENT_EMAIL=your-service@project.iam.gserviceaccount.com
# GOOGLE_SHEETS_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_KEY\n-----END PRIVATE KEY-----"
# GOOGLE_SHEETS_SPREADSHEET_ID=YOUR_SPREADSHEET_ID_HERE

# Google Sheets IDs (extract from URLs) - Legacy/Alternative
GOOGLE_SHEETS_ARTISANS_ID=YOUR_ARTISANS_SHEET_ID_HERE
GOOGLE_SHEETS_INTERVENTIONS_ID=YOUR_INTERVENTIONS_SHEET_ID_HERE

# Sheet ranges (worksheet names and cell ranges)
GOOGLE_SHEETS_ARTISANS_RANGE=BASE de DONNÉE SST ARTISANS!A2:Z
GOOGLE_SHEETS_INTERVENTIONS_RANGE=SUIVI INTER GMBS 2025!A2:Z

# ========================================
# GOOGLE DRIVE CONFIGURATION
# ========================================
# Google Drive root folder ID (optional, will search for "artisans" folder if not provided)
# GOOGLE_DRIVE_ROOT_FOLDER_ID=your_folder_id_here
# Google Drive root folder path (default: "artisans")
# GOOGLE_DRIVE_ROOT_FOLDER_PATH=artisans
# Alternative: Use same credentials as Google Sheets
# GOOGLE_DRIVE_CLIENT_EMAIL=your-service@project.iam.gserviceaccount.com
# GOOGLE_DRIVE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nYOUR_KEY\n-----END PRIVATE KEY-----"

# ========================================
# APPLICATION CONFIGURATION
# ========================================
NODE_ENV=development
NEXT_PUBLIC_ENVIRONMENT=development

# URLs for authentication redirects
NEXT_PUBLIC_SITE_URL=http://localhost:3000
NEXT_PUBLIC_ADDITIONAL_REDIRECT_URLS=http://localhost:3000

# Infinite scroll optimization
NEXT_PUBLIC_SLIDING_WINDOW_ENABLED=true
NEXT_PUBLIC_MAX_CACHED_ITEMS=1000
NEXT_PUBLIC_PREFETCH_THRESHOLD=0.7
NEXT_PUBLIC_BATCH_SIZE=100

# ========================================
# MAP & GEOLOCATION
# ========================================
https://cloud.maptiler.com
https://opencagedata.com
MAPTILER_API_KEY=8RuaZWQJFzh0o8mtJxqi 
NEXT_PUBLIC_MAPTILER_API_KEY=8RuaZWQJFzh0o8mtJxqi 
OPENCAGE_API_KEY=YOUR_OPENCAGE_API_KEY_HERE

# ========================================
# API INSEE Sirene
# ========================================
# Obtenir les identifiants sur https://api.insee.fr
# 1. Créer un compte sur https://api.insee.fr
# 2. Créer une application
# 3. Récupérer votre clé API ou client_id/client_secret
# 4. Limite : 30 requêtes/minute pour l'usage open data
#
# Méthode 1 : Clé API simple (recommandée si disponible)
INSEE_API_KEY=votre_cle_api_ici
#
# Méthode 2 : OAuth2 (si pas de clé API simple)
# INSEE_CLIENT_ID=votre_client_id_ici
# INSEE_CLIENT_SECRET=votre_client_secret_ici

# ========================================
# OPTIONAL: AI CONFIGURATION
# ========================================
# OPENAI_API_KEY=sk-...
# ANTHROPIC_API_KEY=sk-ant-...

# ========================================
# SETUP INSTRUCTIONS
# ========================================
# 1. Copy this file to .env.local
# 2. Get your Supabase keys from your project dashboard
# 3. Follow docs/guide/google-credentials-setup.md for Google Sheets setup
# 4. Update the Google Sheets IDs and ranges above
# 5. Place your credentials.json file in supabase/functions/
# 6. Run: node scripts/setup-google-import.js to configure interactively
# 7. Test with: node scripts/import-google-sheets-complete.js --dry-run
